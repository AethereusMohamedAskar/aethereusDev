<table
    cellpadding="0"
    cellspacing="0"
    width="100%"
    role="presentation"
    style="min-width: 100%"
    class="stylingblock-content-wrapper"
>
    <tr>
        <td class="stylingblock-content-wrapper camarker-inner">
            var video_data = document.getElementById("video"); var timeStarted = -1; var timePlayed
            = 0; var duration = 0; // If video metadata is loaded get duration
            if(video_data.readyState &gt; 0) getDuration.call(video_data); //If metadata not loaded,
            use event to get it else { video_data.addEventListener('loadedmetadata', getDuration); }
            // remember time user started the video function videoStartedPlaying() { timeStarted =
            new Date().getTime()/1000; setInterval(function(){ playedFor = new Date().getTime()/1000
            - timeStarted; checkpoint = playedFor / duration; percentComplete =
            video_data.currentTime/video_data.duration; // here I need help of how to best
            accomplish this if (percentComplete &gt;= 0.8 && checkpoint &gt;= 0.8) { // AJAX call
            here } }, 2000); } function videoStoppedPlaying(event) { // Start time less then zero
            means stop event was fired vidout start event if(timeStarted&gt;0) { var playedFor = new
            Date().getTime()/1000 - timeStarted; timeStarted = -1; // add the new amount of seconds
            played timePlayed+=playedFor; } // Count as complete only if end of video was reached
            if(timePlayed&gt;=duration && event.type=="ended") { // AJAX call here } } function
            getDuration() { duration = video_data.duration; } video_data.addEventListener("play",
            videoStartedPlaying); video_data.addEventListener("playing", videoStartedPlaying);
            video_data.addEventListener("ended", videoStoppedPlaying);
            video_data.addEventListener("pause", videoStoppedPlaying);

            <video width="400" height="300" controls="true" poster="" id="video">
                <source type="https://www.youtube.com/watch?v=sp37_8ELIYg" />
            </video>
        </td>
    </tr>
</table>
